<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë…ë„ í•µì‹¬ ìš©ì–´ ì‚¬ì „</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Noto+Serif+KR:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; background-color: #fcfbf9; color: #2d3748; }
        h1, h2, h3, .serif { font-family: 'Noto Serif KR', serif; }
        
        /* Card Hover Effects */
        .term-card { transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); }
        .term-card:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
        
        /* Animation Classes */
        .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; will-change: opacity, visibility; }
        .fade-in-section.is-visible { opacity: 1; transform: none; }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #cbd5e0; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #a0aec0; }
    </style>
    <!-- Application Structure: 
         1. Header: Navigation & Search.
         2. Hero: Title and Introduction.
         3. Dashboard: Simple pie chart showing distribution of terms (Names vs Documents vs People).
         4. Glossary Grid: Main content area with filtering and search capabilities.
    -->
</head>
<body class="bg-stone-50 text-stone-800">

    <!-- Navigation / Header -->
    <header class="bg-white border-b border-stone-200 sticky top-0 z-50 shadow-sm">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-2 cursor-pointer" onclick="window.scrollTo({top:0, behavior:'smooth'})">
                <span class="text-2xl font-bold text-blue-900 serif">ë…ë„</span>
                <span class="text-lg text-stone-500 serif">ìš©ì–´ ì‚¬ì „</span>
            </div>
            
            <div class="flex items-center gap-4">
                <nav class="hidden md:flex space-x-6 text-sm font-medium text-stone-600">
                    <a href="#dashboard" class="hover:text-blue-800 transition">í˜„í™©íŒ</a>
                    <a href="#dictionary" class="hover:text-blue-800 transition">ì „ì²´ ìš©ì–´</a>
                </nav>

                <!-- Home Button -->
                <a href="index.html" class="text-stone-600 hover:text-blue-900 p-2 rounded-full hover:bg-stone-100 transition" title="í™ˆìœ¼ë¡œ ì´ë™">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        <polyline points="9 22 9 12 15 12 15 22"></polyline>
                    </svg>
                </a>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-slate-900 text-white py-16 px-4 text-center relative overflow-hidden">
        <div class="relative z-10 max-w-3xl mx-auto fade-in-section is-visible">
            <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight serif">ë…ë„ í•µì‹¬ ìš©ì–´ ì‚¬ì „</h1>
            <p class="text-slate-200 text-lg md:text-xl mb-8 font-light break-keep">
                ë…ë„ì˜ ì—­ì‚¬ì  ì§„ì‹¤ì„ ì´í•´í•˜ê¸° ìœ„í•´ ë°˜ë“œì‹œ ì•Œì•„ì•¼ í• <br>
                í•µì‹¬ ëª…ì¹­, ì¦ê±° ë¬¸ì„œ, ì£¼ìš” ì¸ë¬¼ê³¼ ì‚¬ê±´ì„ ì •ë¦¬í–ˆìŠµë‹ˆë‹¤.
            </p>
            
            <!-- Main Search Bar -->
            <div class="relative max-w-xl mx-auto">
                <input type="text" id="heroSearchInput" placeholder="ê¶ê¸ˆí•œ ìš©ì–´ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš” (ì˜ˆ: ì•ˆìš©ë³µ, ì¹™ë ¹ 41í˜¸)" 
                       class="w-full pl-6 pr-14 py-4 rounded-full text-stone-800 shadow-lg focus:outline-none focus:ring-4 focus:ring-blue-500/30 transition text-lg">
                <button class="absolute right-3 top-2.5 bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-full transition" onclick="document.getElementById('dictionary').scrollIntoView({behavior:'smooth'})">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
                </button>
            </div>
        </div>
        <div class="absolute top-0 left-0 w-full h-full bg-slate-950 opacity-50 z-0"></div>
        <!-- Abstract wave/map decoration -->
        <div class="absolute -bottom-10 -right-10 w-64 h-64 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse"></div>
        <div class="absolute -top-10 -left-10 w-64 h-64 bg-emerald-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-pulse" style="animation-delay: 1s;"></div>
    </section>

    <main class="container mx-auto px-4 py-12 space-y-16">

        <!-- Dashboard / Stats Section -->
        <section id="dashboard" class="fade-in-section">
            <div class="flex flex-col md:flex-row gap-8 items-center justify-center">
                <!-- Stat Card 1 -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-200 w-full md:w-1/3 text-center hover:border-blue-300 transition cursor-pointer" onclick="filterDictionary('names')">
                    <div class="inline-flex items-center justify-center w-12 h-12 bg-blue-100 text-blue-600 rounded-full mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 14.66V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h5.34"></path><polygon points="18 2 22 6 12 16 8 16 8 12 18 2"></polygon></svg>
                    </div>
                    <h3 class="text-lg font-bold text-stone-800">ì§€ëª… ë° ëª…ì¹­</h3>
                    <p class="text-3xl font-bold text-blue-900 mt-2" id="count-names">0</p>
                    <p class="text-xs text-stone-500 mt-1">ìš°ì‚°ë„, ì„ë„ ë“±</p>
                </div>

                <!-- Stat Card 2 -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-200 w-full md:w-1/3 text-center hover:border-emerald-300 transition cursor-pointer" onclick="filterDictionary('documents')">
                    <div class="inline-flex items-center justify-center w-12 h-12 bg-emerald-100 text-emerald-600 rounded-full mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                    </div>
                    <h3 class="text-lg font-bold text-stone-800">í•µì‹¬ ê³ ë¬¸ì„œ</h3>
                    <p class="text-3xl font-bold text-emerald-900 mt-2" id="count-documents">0</p>
                    <p class="text-xs text-stone-500 mt-1">ì‹¤ë¡, ì¹™ë ¹, ì§€ë ¹ ë“±</p>
                </div>

                <!-- Stat Card 3 -->
                <div class="bg-white p-6 rounded-2xl shadow-sm border border-stone-200 w-full md:w-1/3 text-center hover:border-amber-300 transition cursor-pointer" onclick="filterDictionary('people')">
                    <div class="inline-flex items-center justify-center w-12 h-12 bg-amber-100 text-amber-600 rounded-full mb-4">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path><circle cx="9" cy="7" r="4"></circle><path d="M23 21v-2a4 4 0 0 0-3-3.87"></path><path d="M16 3.13a4 4 0 0 1 0 7.75"></path></svg>
                    </div>
                    <h3 class="text-lg font-bold text-stone-800">ì¸ë¬¼ ë° ì‚¬ê±´</h3>
                    <p class="text-3xl font-bold text-amber-900 mt-2" id="count-people">0</p>
                    <p class="text-xs text-stone-500 mt-1">ì•ˆìš©ë³µ, ì˜ìš©ìˆ˜ë¹„ëŒ€ ë“±</p>
                </div>
            </div>
        </section>

        <!-- Dictionary Section -->
        <section id="dictionary" class="scroll-mt-24">
            
            <!-- Filter Tabs -->
            <div class="flex flex-wrap justify-center gap-3 mb-10 fade-in-section">
                <button onclick="filterDictionary('all')" class="filter-btn active px-5 py-2.5 rounded-full text-sm font-semibold transition bg-slate-800 text-white shadow-lg ring-2 ring-offset-2 ring-slate-800" data-filter="all">ì „ì²´ ë³´ê¸°</button>
                <button onclick="filterDictionary('names')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold transition bg-white text-stone-600 border border-stone-200 hover:bg-blue-50 hover:text-blue-700 hover:border-blue-200" data-filter="names">ëª…ì¹­ ê´€ë ¨</button>
                <button onclick="filterDictionary('documents')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold transition bg-white text-stone-600 border border-stone-200 hover:bg-emerald-50 hover:text-emerald-700 hover:border-emerald-200" data-filter="documents">í•µì‹¬ ê³ ë¬¸ì„œ</button>
                <button onclick="filterDictionary('people')" class="filter-btn px-5 py-2.5 rounded-full text-sm font-semibold transition bg-white text-stone-600 border border-stone-200 hover:bg-amber-50 hover:text-amber-700 hover:border-amber-200" data-filter="people">ì¸ë¬¼ ë° ì‚¬ê±´</button>
            </div>

            <!-- Content Grid -->
            <div id="dictionaryGrid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 fade-in-section">
                <!-- Cards will be injected here via JS -->
            </div>

            <!-- Empty State -->
            <div id="noResults" class="hidden text-center py-20 fade-in-section">
                <div class="text-6xl mb-4">ğŸ¤”</div>
                <p class="text-xl text-stone-600 font-medium">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                <p class="text-stone-400 text-sm mt-2">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ê±°ë‚˜ í•„í„°ë¥¼ 'ì „ì²´ ë³´ê¸°'ë¡œ ë³€ê²½í•´ë³´ì„¸ìš”.</p>
            </div>

        </section>

    </main>

    <footer class="bg-stone-800 text-stone-400 py-10 mt-12 border-t border-stone-700">
        <div class="container mx-auto px-4 text-center">
            <h4 class="text-white font-serif text-lg mb-4">ë…ë„, ëŒ€í•œë¯¼êµ­ì˜ ì•„ì¹¨ì´ ì‹œì‘ë˜ëŠ” ê³³</h4>
            <p class="text-sm text-stone-500 max-w-lg mx-auto leading-relaxed mb-6">
                ì´ ìš©ì–´ ì‚¬ì „ì€ ì—­ì‚¬ì  ê¸°ë¡ê³¼ ë¬¸í—Œì„ ë°”íƒ•ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.<br>
                ì˜¬ë°”ë¥¸ ì—­ì‚¬ ì¸ì‹ì€ ìš°ë¦¬ ì˜í† ë¥¼ ì§€í‚¤ëŠ” ì²«ê±¸ìŒì…ë‹ˆë‹¤.
            </p>
            <p class="text-xs text-stone-600">&copy; 2024 Dokdo Terminology Dictionary Project.</p>
        </div>
    </footer>

    <script>
        // --- DATA ---
        // Provided by user in previous conversation
        const glossaryData = [
            // 1. ëª…ì¹­ ê´€ë ¨
            { id: 'n1', category: 'names', term: 'ìš°ì‚°ë„ (äºå±±å³¶)', desc: 'ì‚¼êµ­ì‹œëŒ€ ìš°ì‚°êµ­ì—ì„œ ìœ ë˜í•œ ë…ë„ì˜ ì˜› ì´ë¦„ì…ë‹ˆë‹¤[1].' },
            { id: 'n2', category: 'names', term: 'ì„ë„ (çŸ³å³¶)', desc: "1900ë…„ ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸ì— ë“±ì¥í•˜ëŠ” ì´ë¦„ì…ë‹ˆë‹¤. 'ëŒì„¬(ë…ì„¬)'ì„ í•œìë¡œ í‘œê¸°í•œ ê²ƒìœ¼ë¡œ, ë…ë„ê°€ ìš¸ë¦‰êµ°ì˜ ê´€í• ì„ì„ ë³´ì—¬ì£¼ëŠ” ì¦ê±°ì…ë‹ˆë‹¤[1], [2]." },
            { id: 'n3', category: 'names', term: 'ë§ˆì“°ì‹œë§ˆ (ì†¡ë„, æ¾å³¶)', desc: "ê³¼ê±° ì¼ë³¸ì´ ë…ë„ë¥¼ ë¶€ë¥´ë˜ ëª…ì¹­ì…ë‹ˆë‹¤. ë‹¹ì‹œ ì¼ë³¸ì€ ìš¸ë¦‰ë„ë¥¼ 'ì£½ë„(ë‹¤ì¼€ì‹œë§ˆ)'ë¼ê³  ë¶ˆë €ìŠµë‹ˆë‹¤[3]." },
            { id: 'n4', category: 'names', term: 'ë¦¬ì•™ì¿ ë¥´ì•” (Liancourt Rocks)', desc: '1849ë…„ í”„ë‘ìŠ¤ í¬ê²½ì„  ë¦¬ì•™ì¿ ë¥´í˜¸ê°€ ë…ë„ë¥¼ ë°œê²¬í•˜ê³  ë¶™ì¸ ì„œì–‘ì‹ ëª…ì¹­ì…ë‹ˆë‹¤[4].' },
            
            // 2. í•µì‹¬ ê³ ë¬¸ì„œ
            { id: 'd1', category: 'documents', term: 'ì„¸ì¢…ì‹¤ë¡ì§€ë¦¬ì§€ (1454)', desc: 'ë…ë„(ìš°ì‚°)ì™€ ìš¸ë¦‰ë„(ë¬´ë¦‰)ê°€ ê°•ì›ë„ ìš¸ì§„í˜„ì— ì†í•˜ë©°, ë‘ ì„¬ì´ ì„œë¡œ ë°”ë¼ë³¼ ìˆ˜ ìˆë‹¤ê³  ê¸°ë¡í•œ ì¡°ì„ ì˜ ê´€ì°¬ì„œì…ë‹ˆë‹¤[5], [6].' },
            { id: 'd2', category: 'documents', term: 'ì€ì£¼ì‹œì²­í•©ê¸° (1667)', desc: 'ì¼ë³¸ì˜ ê³ ë¬¸í—Œìœ¼ë¡œ, ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì¼ë³¸ ì˜í†  ë°–(ì¡°ì„  ë•…)ì„ì„ ìŠ¤ìŠ¤ë¡œ ê¸°ë¡í•œ ìµœì´ˆì˜ ì¼ë³¸ ë¬¸í—Œì…ë‹ˆë‹¤[5], [7].' },
            { id: 'd3', category: 'documents', term: 'íƒœì •ê´€ ì§€ë ¹ (1877)', desc: 'ì¼ë³¸ ë©”ì´ì§€ ì •ë¶€ì˜ ìµœê³  í–‰ì •ê¸°ê´€ì¸ íƒœì •ê´€ì´ "ìš¸ë¦‰ë„ì™€ ë…ë„ëŠ” ì¼ë³¸ê³¼ ê´€ê³„ì—†ë‹¤"ê³  ê³µì‹ì ìœ¼ë¡œ ë‚´ë¦° ì§€ì‹œì…ë‹ˆë‹¤. ì¼ë³¸ ìŠ¤ìŠ¤ë¡œ ë…ë„ê°€ í•œêµ­ ë•…ì„ì„ ì¸ì •í•œ ê²°ì •ì  ì¦ê±°ì…ë‹ˆë‹¤[5], [8].' },
            { id: 'd4', category: 'documents', term: 'ëŒ€í•œì œêµ­ ì¹™ë ¹ ì œ41í˜¸ (1900)', desc: 'ê³ ì¢… í™©ì œê°€ ë…ë„(ì„ë„)ë¥¼ ìš¸ë¦‰êµ°ì˜ ê´€í•  êµ¬ì—­ìœ¼ë¡œ ëª…ì‹œí•˜ì—¬ ë°˜í¬í•œ ê·¼ëŒ€ ë²•ë ¹ì…ë‹ˆë‹¤[5], [2].' },
            { id: 'd5', category: 'documents', term: 'ì‹œë§ˆë„¤í˜„ ê³ ì‹œ ì œ40í˜¸ (1905)', desc: 'ëŸ¬ì¼ì „ìŸ ì¤‘ ì¼ë³¸ì´ ë…ë„ë¥¼ ì£¼ì¸ì´ ì—†ëŠ” ë•…ì´ë¼ê³  ì£¼ì¥í•˜ë©° ë¶ˆë²•ì ìœ¼ë¡œ ìêµ­ ì˜í† ë¡œ í¸ì…í•œ ê³ ì‹œì…ë‹ˆë‹¤[5], [9].' },
            { id: 'd6', category: 'documents', term: 'SCAPIN ì œ677í˜¸ (1946)', desc: 'ì œ2ì°¨ ì„¸ê³„ëŒ€ì „ í›„ ì—°í•©êµ° ìµœê³ ì‚¬ë ¹ê´€ì´ ë…ë„ë¥¼ ì¼ë³¸ì˜ í†µì¹˜ê¶Œì—ì„œ ì œì™¸í•œë‹¤ê³  ëª…ì‹œí•œ ì§€ë ¹ì…ë‹ˆë‹¤[10].' },
            
            // 3. ì¸ë¬¼ ë° ì‚¬ê±´
            { id: 'p1', category: 'people', term: 'ì•ˆìš©ë³µ', desc: "ì¡°ì„  ìˆ™ì¢… ë•Œì˜ ì–´ë¶€ë¡œ, ì¼ë³¸ì— ê±´ë„ˆê°€ ìš¸ë¦‰ë„ì™€ ë…ë„ê°€ ì¡°ì„  ë•…ì„ì„ ê°•ë ¥íˆ ì£¼ì¥í•˜ì—¬ ì¼ë³¸ ë§‰ë¶€ë¡œë¶€í„° 'ìš¸ë¦‰ë„ ë„í•´ ê¸ˆì§€ë ¹'ì„ ì´ëŒì–´ëƒˆìŠµë‹ˆë‹¤[5], [11]." },
            { id: 'p2', category: 'people', term: 'ë…ë„ì˜ìš©ìˆ˜ë¹„ëŒ€', desc: '1950ë…„ëŒ€ í•œêµ­ì „ìŸ í˜¼ë€ê¸°ì— ì¼ë³¸ì˜ ì¹¨ë²”ì„ ë§‰ê¸° ìœ„í•´ í™ìˆœì¹  ë“± ë¯¼ê°„ì¸ë“¤ì´ ìë°œì ìœ¼ë¡œ ê²°ì„±í•œ ë…ë„ ìˆ˜ë¹„ ë‹¨ì²´ì…ë‹ˆë‹¤[5], [12].' },
            { id: 'p3', category: 'people', term: 'í‰í™”ì„  (ì´ìŠ¹ë§Œ ë¼ì¸)', desc: '1952ë…„ ì´ìŠ¹ë§Œ ëŒ€í†µë ¹ì´ ì„ í¬í•œ í•´ì–‘ ì£¼ê¶Œ ì„ ì–¸ìœ¼ë¡œ, ë…ë„ë¥¼ í¬í•¨í•œ ì¸ì ‘ í•´ì–‘ì— ëŒ€í•œ ì£¼ê¶Œì„ ëª…í™•íˆ í–ˆìŠµë‹ˆë‹¤[5], [13].' },
            { id: 'p4', category: 'people', term: 'ë‹¤ì¼€ì‹œë§ˆì˜ ë‚ ', desc: 'ì¼ë³¸ ì‹œë§ˆë„¤í˜„ì´ 1905ë…„ì˜ ë¶ˆë²• í¸ì…ì„ ê¸°ë…í•˜ì—¬ ë§¤ë…„ 2ì›” 22ì¼ë¡œ ì œì •í•œ ë‚ ë¡œ, í•œì¼ ê°ˆë“±ì˜ ì›ì¸ì´ ë˜ê³  ìˆìŠµë‹ˆë‹¤[5], [14].' }
        ];

        // --- UTILS ---
        function getCategoryStyle(category) {
            switch(category) {
                case 'names': return { bg: 'bg-blue-50', text: 'text-blue-800', border: 'border-blue-100', iconColor: 'text-blue-500', label: 'ëª…ì¹­' };
                case 'documents': return { bg: 'bg-emerald-50', text: 'text-emerald-800', border: 'border-emerald-100', iconColor: 'text-emerald-500', label: 'ë¬¸ì„œ' };
                case 'people': return { bg: 'bg-amber-50', text: 'text-amber-800', border: 'border-amber-100', iconColor: 'text-amber-500', label: 'ì¸ë¬¼/ì‚¬ê±´' };
                default: return { bg: 'bg-gray-50', text: 'text-gray-800', border: 'border-gray-100', iconColor: 'text-gray-500', label: 'ê¸°íƒ€' };
            }
        }

        // --- RENDER ---
        let currentFilter = 'all';
        let currentSearch = '';

        function renderGrid() {
            const grid = document.getElementById('dictionaryGrid');
            const noResults = document.getElementById('noResults');
            grid.innerHTML = '';

            // Filter logic
            const filtered = glossaryData.filter(item => {
                const matchesCategory = currentFilter === 'all' || item.category === currentFilter;
                const matchesSearch = item.term.toLowerCase().includes(currentSearch.toLowerCase()) || 
                                      item.desc.toLowerCase().includes(currentSearch.toLowerCase());
                return matchesCategory && matchesSearch;
            });

            // Empty state
            if (filtered.length === 0) {
                grid.classList.add('hidden');
                noResults.classList.remove('hidden');
                return;
            } else {
                grid.classList.remove('hidden');
                noResults.classList.add('hidden');
            }

            // Generate Cards
            filtered.forEach(item => {
                const style = getCategoryStyle(item.category);
                
                // Highlight search term
                let highlightedTerm = item.term;
                let highlightedDesc = item.desc;
                
                if (currentSearch) {
                    const regex = new RegExp(`(${currentSearch})`, 'gi');
                    highlightedTerm = highlightedTerm.replace(regex, '<span class="bg-yellow-200">$1</span>');
                    highlightedDesc = highlightedDesc.replace(regex, '<span class="bg-yellow-200">$1</span>');
                }

                const cardHtml = `
                    <div class="term-card bg-white rounded-xl overflow-hidden border border-stone-100 flex flex-col h-full">
                        <div class="px-6 py-4 border-b ${style.border} ${style.bg} flex justify-between items-center">
                            <span class="text-xs font-bold uppercase tracking-wider ${style.text}">${style.label}</span>
                            <div class="${style.iconColor}">
                                <!-- Simple Dot Icon -->
                                <svg width="8" height="8" viewBox="0 0 8 8" fill="currentColor"><circle cx="4" cy="4" r="4"/></svg>
                            </div>
                        </div>
                        <div class="p-6 flex-grow flex flex-col justify-center">
                            <h3 class="text-xl font-bold text-stone-800 mb-3 serif leading-snug">${highlightedTerm}</h3>
                            <p class="text-stone-600 text-sm leading-relaxed">${highlightedDesc}</p>
                        </div>
                    </div>
                `;
                
                grid.innerHTML += cardHtml;
            });
        }

        function updateCounts() {
            const counts = { names: 0, documents: 0, people: 0 };
            glossaryData.forEach(item => {
                if (counts[item.category] !== undefined) counts[item.category]++;
            });
            document.getElementById('count-names').innerText = counts.names;
            document.getElementById('count-documents').innerText = counts.documents;
            document.getElementById('count-people').innerText = counts.people;
        }

        // --- HANDLERS ---
        function filterDictionary(category) {
            currentFilter = category;
            
            // Update UI buttons
            document.querySelectorAll('.filter-btn').forEach(btn => {
                // Reset styles
                btn.classList.remove('active', 'bg-slate-800', 'text-white', 'shadow-lg', 'ring-2', 'ring-offset-2', 'ring-slate-800');
                btn.classList.add('bg-white', 'text-stone-600', 'border', 'border-stone-200');

                // Apply active style
                if (btn.dataset.filter === category) {
                    btn.classList.remove('bg-white', 'text-stone-600', 'border', 'border-stone-200');
                    btn.classList.add('active', 'bg-slate-800', 'text-white', 'shadow-lg', 'ring-2', 'ring-offset-2', 'ring-slate-800');
                }
            });

            renderGrid();
        }

        // --- ANIMATION OBSERVER ---
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, observerOptions);

        // --- INIT ---
        document.addEventListener('DOMContentLoaded', () => {
            updateCounts();
            renderGrid();

            // Setup Search
            const heroSearch = document.getElementById('heroSearchInput');
            
            heroSearch.addEventListener('input', (e) => {
                currentSearch = e.target.value;
                renderGrid();
            });

            // Setup Animation
            document.querySelectorAll('.fade-in-section').forEach(el => observer.observe(el));
        });

    </script>
</body>
</html>
